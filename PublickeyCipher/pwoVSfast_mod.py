import time

def fast_mod(x, n, p):
    x = x % p
    res = 1
    while n!=0:
        if n & 1:
            res = (res * x) % p
        n >>= 1     # 相当于 n //= 2
        x = (x * x) % p
    return res


n = 827543135080459796010638874286705495145983795888844134286357567075982580799177012153243317228784955335418881742149847055877004574008640223812742493070949174652772669738366558209445309640518774579950093156790389196846529966420933904818270853976705790617620317200514263583835835325481007249950216570104100547525070246081540471254721322272837045557767429246837958968419007921599502347364322533607716659255646481565800854778705213553007976225769752409110823802758563280881269257794069485309333097612108680079029784580212002277724873036134510818425914455941197575696658386660022391564046921395881842022950800074393493440863530383001929446036324130316612594955890166605534345741503367010217074022509572337369778128512297209122012052953511634466529428269730804811424136450777358164775185635983912309160217402530727224179580832411720820413127112049443964863769744896094470191146556089570291930712051427755560728048251072945168034860562402005315283108235226979394387003593279343860505928416055227748566939108817304040448920315866467000704616151075174336806361562832825230704870323856816208371324581892603515553331060757824953902398272780367357012646913813034959955597856324225061272924065489894177355077922723918798260453421430920066634173711
c = 745823741970588346485475368031401801027918521808163291312547484171788253749978281034647188236200762168593591870965560404258976085006684533995840260291793489848985815225697496914959948129377547810143957740233884102414484893176651644680973644360405376981303185384608167156266976355676160307961356640918181927992321708713538708379241143263016058328958620609074304504588951343399790103604047076637898397097895012241417664585934662477602439733877117934854459650940023031353906929700195142633053083713631285538962059430355730722636426022824005854415587924173555264156875805005232454650521265358463288594957928452432636726791018809224920678406382301831656360202101969867405290323709969840532674966336743364611919286773447860045260445483336372961613026587470324972282210299671408249316563733157964246761413413449971296667800297260959448713304082068784902064575113933650095715330465852839394602706242063025442469305804116282680784386630348997628314664050005254781347484249571198671916842237892484896081017363895155652868225217960103565373208124724832706057689105882645548928339711768585460429622812414196917387063330162395435991529386568800473811133810156000489145964036489940528180317118644347200066668650839996307021541817532094548695853785
d = 693349991115394071307540848321768747054484724460899176803195330087856004899568724060431127823600715602490415530598295127419580833789487337172997788132299947337187812459873788881748115892912563070655481068160385892260705547508309989030830711419384870649315160421907016546250385883684236603057378678553986105062462008542424285009392718565959976732102546401727494777944102871923247583139008304629327917310290187898816972795424620951575528810064530902509055038766315626390124195329977478244764063297680835123982546167245722718485268097693777991678311364200291131792062293784474381079350988648119569692737356484784761936812257813366045288758413618861107180341840753797247629617176029483022201401590610351018356903973935103612945673674731506855428694078180530433549598482729269393541766138908673669030136354940379140251586771151190727520873849749219704847934306880294597598251976417132528403479764366726181851630924416668430262769019295252472113204187870430600149701770946881025921291369515954802386491322678661975087739402840635712188665904749118134594824665090924696185898136847085669836749235385249479847779805389462231422626950468352767684040814558125154528453269824624628975978342399630251095557835199715434461001822432430241451898357


start = time.perf_counter()
m = pow(c, d, n)
end = time.perf_counter()
print("pow spend " + str(end - start) + " seconds.")
start = time.perf_counter()
m = fast_mod(c, d, n)
end = time.perf_counter()
print("fast_mod spend " + str(end - start) + " seconds.\n")

start = time.perf_counter()
for i in range(10):
    m = pow(c, d, n)
end = time.perf_counter()
print("10 times pow spend " + str(end - start) + " seconds.")
start = time.perf_counter()
for i in range(10):
    m = fast_mod(c, d, n)
end = time.perf_counter()
print("10 times fast_mod spend " + str(end - start) + " seconds.\n")

start = time.perf_counter()
for i in range(100):
    m = pow(c, d, n)
end = time.perf_counter()
print("100 times pow spend " + str(end - start) + " seconds.")
start = time.perf_counter()
for i in range(100):
    m = fast_mod(c, d, n)
end = time.perf_counter()
print("100 times fast_mod spend " + str(end - start) + " seconds.")

